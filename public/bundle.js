(()=>{"use strict";var t=[];document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("task-form"),n=document.getElementById("task-list");e.addEventListener("submit",(function(e){e.preventDefault();var a=document.getElementById("task-input"),o=document.getElementById("task-color"),c=document.getElementById("task-due-date"),d={text:a.value.trim(),color:o.value,dueDate:c.value,id:Date.now().toString()};if(d.text){t=function(t,e){return t.push(e),t}(t,d);var u=document.createElement("li");u.innerHTML='\n                <div>\n                    <span class="task-color" style="background-color: '.concat(d.color,';"></span>\n                    ').concat(d.text," (Due: ").concat(d.dueDate,')\n                </div>\n                <button class="delete-button" data-id="').concat(d.id,'">Delete</button>\n            '),n.appendChild(u),a.value=""}})),fetch("/tasks").then((function(t){return t.json()})).then((function(e){(t=e).forEach((function(t){var e=document.createElement("li");e.innerHTML='\n                    <div>\n                        <span class="task-color" style="background-color: '.concat(t.color,';"></span>\n                        ').concat(t.text," (Due: ").concat(t.dueDate,')\n                    </div>\n                    <button class="delete-button" data-id="').concat(t.id,'">Delete</button>\n                '),n.appendChild(e)}))})),n.addEventListener("click",(function(e){if(e.target.classList.contains("delete-button")){var n=e.target.getAttribute("data-id");t=function(t,e){return t.filter((function(t){return t.id!==e}))}(t,n),e.target.parentElement.remove()}}))}))})();